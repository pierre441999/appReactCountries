{"ast":null,"code":"import _slicedToArray from\"/Users/pierrebusson/Documents/react/appreactCountries/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Form,Input,Button,message}from\"antd\";import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{initializeApp}from\"firebase/app\";import{firebaseConfig}from\"../lib/base\";import{LoadingOutlined}from\"@ant-design/icons\";import{useState}from\"react\";import AppelApi from\"./AppelApi\";import{Navigate}from\"react-router-dom\";import{UserAddOutlined}from'@ant-design/icons';import{Typography}from\"antd\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseApp=initializeApp(firebaseConfig);var auth=getAuth(firebaseApp);var Title=Typography.Title;var Login=function Login(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var onFinish=function onFinish(values){//Récupérer le pass et le mail dans values et la passer à la\n// methode signInWithEmailAndPassword\nsetLoading(/*#__PURE__*/_jsx(LoadingOutlined,{}));signInWithEmailAndPassword(auth,values.email,values.password).then(function(credentials){console.log(credentials);setLoading(false);// <Route exact path=\"/travel\" element={<AppelApi />} />\nprops.setActiveComponent(/*#__PURE__*/_jsx(Navigate,{to:\"/travel\",element:/*#__PURE__*/_jsx(AppelApi,{})}));}).catch(function(err){setLoading(false);message.error(err.message);// console.log(err.message);\n});// Récupérer le pas\n};var onFinishFailed=function onFinishFailed(errorInfo){console.log(\"Failed:\",errorInfo);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Title,{children:[\"Login as an user \",/*#__PURE__*/_jsx(UserAddOutlined,{})]})}),/*#__PURE__*/_jsxs(Form,{name:\"basic\",layout:\"vertical\",onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"email\",name:\"email\",rules:[{required:true,message:\"Please input your username!\"}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"password\",name:\"password\",rules:[{required:true,message:\"Please input your password!\"}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsxs(Button,{type:\"primary\",htmlType:\"submit\",children:[\"Submit \",loading]})})]})]});};export default Login;","map":{"version":3,"sources":["/Users/pierrebusson/Documents/react/appreactCountries/src/components/Login.js"],"names":["Form","Input","Button","message","getAuth","signInWithEmailAndPassword","initializeApp","firebaseConfig","LoadingOutlined","useState","AppelApi","Navigate","UserAddOutlined","Typography","firebaseApp","auth","Title","Login","props","loading","setLoading","onFinish","values","email","password","then","credentials","console","log","setActiveComponent","catch","err","error","onFinishFailed","errorInfo","required","offset","span"],"mappings":"4KAAA,OAASA,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,CAA8BC,OAA9B,KAA4C,MAA5C,CACA,OAASC,OAAT,CAAkBC,0BAAlB,KAAoD,eAApD,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,cAAT,KAA8B,aAA9B,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,OAAQC,eAAR,KAA8B,mBAA9B,CACA,OAAQC,UAAR,KAAyB,MAAzB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGR,aAAa,CAACC,cAAD,CAAjC,CACA,GAAMQ,CAAAA,IAAI,CAAGX,OAAO,CAACU,WAAD,CAApB,CACA,GAAQE,CAAAA,KAAR,CAAiBH,UAAjB,CAAQG,KAAR,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACvB,cAA8BT,QAAQ,CAAC,KAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,MAAD,CAAY,CAC3B;AACA;AAEAF,UAAU,cAAC,KAAC,eAAD,IAAD,CAAV,CACAf,0BAA0B,CAACU,IAAD,CAAOO,MAAM,CAACC,KAAd,CAAqBD,MAAM,CAACE,QAA5B,CAA1B,CACGC,IADH,CACQ,SAACC,WAAD,CAAiB,CACrBC,OAAO,CAACC,GAAR,CAAYF,WAAZ,EACAN,UAAU,CAAC,KAAD,CAAV,CACD;AACCF,KAAK,CAACW,kBAAN,cAAyB,KAAC,QAAD,EAAU,EAAE,CAAC,SAAb,CAAuB,OAAO,cAAE,KAAC,QAAD,IAAhC,EAAzB,EAED,CAPH,EAQGC,KARH,CAQS,SAACC,GAAD,CAAS,CACdX,UAAU,CAAC,KAAD,CAAV,CACAjB,OAAO,CAAC6B,KAAR,CAAcD,GAAG,CAAC5B,OAAlB,EACD;AACA,CAZH,EAcA;AACD,CApBD,CAsBA,GAAM8B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,SAAD,CAAe,CACpCP,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBM,SAAvB,EACD,CAFD,CAIA,mBAEE,oCACE,kCACE,MAAC,KAAD,6CAAwB,KAAC,eAAD,IAAxB,GADF,EADF,cAIA,MAAC,IAAD,EACE,IAAI,CAAC,OADP,CAEE,MAAM,CAAC,UAFT,CAGE,QAAQ,CAAEb,QAHZ,CAIE,cAAc,CAAEY,cAJlB,CAKE,YAAY,CAAC,KALf,wBAQE,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAC,OADR,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAE,CACL,CACEE,QAAQ,CAAE,IADZ,CAEEhC,OAAO,CAAE,6BAFX,CADK,CAHT,uBAUE,KAAC,KAAD,IAVF,EARF,cAqBE,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAC,UADR,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,CACL,CACEgC,QAAQ,CAAE,IADZ,CAEEhC,OAAO,CAAE,6BAFX,CADK,CAHT,uBAUE,KAAC,KAAD,CAAO,QAAP,IAVF,EArBF,cAkCE,KAAC,IAAD,CAAM,IAAN,EACE,UAAU,CAAE,CACViC,MAAM,CAAE,CADE,CAEVC,IAAI,CAAE,EAFI,CADd,uBAME,MAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,qBACUlB,OADV,GANF,EAlCF,GAJA,GAFF,CAsDD,CAlFD,CAoFA,cAAeF,CAAAA,KAAf","sourcesContent":["import { Form, Input, Button, message} from \"antd\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { firebaseConfig} from \"../lib/base\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { useState } from \"react\";\nimport AppelApi from \"./AppelApi\";\nimport {Navigate} from \"react-router-dom\"\nimport {UserAddOutlined} from '@ant-design/icons';\nimport {Typography} from \"antd\";\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\nconst { Title} = Typography;\n\nconst Login = (props) => {\n  const [loading, setLoading] = useState(false)\n  const onFinish = (values) => {\n    //Récupérer le pass et le mail dans values et la passer à la\n    // methode signInWithEmailAndPassword\n\n    setLoading(<LoadingOutlined/>)\n    signInWithEmailAndPassword(auth, values.email, values.password)\n      .then((credentials) => {\n        console.log(credentials);\n        setLoading(false);\n       // <Route exact path=\"/travel\" element={<AppelApi />} />\n        props.setActiveComponent(<Navigate to=\"/travel\" element={<AppelApi />}/>);\n       \n      })\n      .catch((err) => {\n        setLoading(false)\n        message.error(err.message)\n       // console.log(err.message);\n      });\n\n    // Récupérer le pas\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  return (\n    \n    <div>\n      <div>\n        <Title>Login as an user <UserAddOutlined /></Title>\n      </div>\n    <Form\n      name=\"basic\"\n      layout=\"vertical\"\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n      autoComplete=\"off\"\n    >\n      \n      <Form.Item\n        label=\"email\"\n        name=\"email\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your username!\",\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        label=\"password\"\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your password!\",\n          },\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        wrapperCol={{\n          offset: 8,\n          span: 16,\n        }}\n      >\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit {loading}\n        </Button>\n      </Form.Item>\n    </Form>\n    </div>\n  );\n  \n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}