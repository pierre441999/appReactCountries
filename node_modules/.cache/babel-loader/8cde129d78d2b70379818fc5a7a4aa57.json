{"ast":null,"code":"import _objectSpread from\"/Users/pierrebusson/Documents/react/appreact copie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/pierrebusson/Documents/react/appreact copie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Form,Input,message,Button}from\"antd\";import{createUserWithEmailAndPassword,getAuth}from\"@firebase/auth\";import{initializeApp}from\"@firebase/app\";import{firebaseConfig}from\"../lib/base\";import{useState}from\"react\";import{LoadingOutlined}from\"@ant-design/icons\";import{collection,addDoc,getFirestore}from\"firebase/firestore\";import{Typography}from\"antd\";import{UserAddOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Title=Typography.Title;var firebaseApp=initializeApp(firebaseConfig);var auth=getAuth(firebaseApp);var db=getFirestore();var Profile=function Profile(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var inputLabels=[{label:\"Nom\",name:\"name\",required:true,message:\"Veuillez saisir vote Nom\",type:\"text\",action:function action(e){setState(_objectSpread(_objectSpread({},state),{},{name:e.target.value}));}},{label:\"Prénom\",name:\"firstName\",required:true,message:\"Veuillez saisir vote prénom\",type:\"text\",action:function action(e){setState(_objectSpread(_objectSpread({},state),{},{firstName:e.target.value}));}},{label:\"Âge\",name:\"age\",required:true,message:\"Veuillez saisir vote âge\",type:\"number\",action:function action(e){setState(_objectSpread(_objectSpread({},state),{},{age:e.target.value}));}},{label:\"Email\",name:\"email\",required:true,message:\"Veuillez saisir vote email\",type:\"email\",action:function action(e){setState(_objectSpread(_objectSpread({},state),{},{email:e.target.value}));}},{label:\"Mot De Passe\",name:\"password\",required:true,message:\"Veuillez saisir vote mot de passe\",type:\"password\",action:function action(e){setState(_objectSpread(_objectSpread({},state),{},{password:e.target.value}));}}];var createInputLabels=function createInputLabels(label){return/*#__PURE__*/_jsx(Form.Item,{label:label.label,name:label.name,rules:[{required:label.required,message:label.message}],children:/*#__PURE__*/_jsx(Input,{type:label.type,onChange:label.action})},label.name);};var onFinish=function onFinish(values){//Récupérer le pass et le mail dans values et la passer à la\n// methode signInWithEmailAndPassword\nsetLoading(/*#__PURE__*/_jsx(LoadingOutlined,{}));createUserWithEmailAndPassword(auth,values.email,values.password).then(function(credentials){console.log(credentials);addDoc(collection(db,\"users\"),state).then(function(doc){return console.log(doc);}).catch(function(err){return console.log(err.message);});message.success(\"Vous êtes bien inscrit\");setLoading(false);// props.setActiveComponent(<Dashboard />);\n}).catch(function(err){setLoading(false);message.error(\"Impossible de vous inscrire\");});};var onFinishFailed=function onFinishFailed(errorInfo){console.log(\"Failed:\",errorInfo);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Title,{children:[\"Create an user account \",/*#__PURE__*/_jsx(UserAddOutlined,{})]})}),/*#__PURE__*/_jsxs(Form,{name:\"basic\",layout:\"vertical\",onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",children:[inputLabels.map(function(label){return createInputLabels(label);}),/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsxs(Button,{type:\"primary\",htmlType:\"submit\",children:[\"Submit \",loading]})})]})]});};export default Profile;","map":{"version":3,"sources":["/Users/pierrebusson/Documents/react/appreact copie/src/components/Profile.js"],"names":["Form","Input","message","Button","createUserWithEmailAndPassword","getAuth","initializeApp","firebaseConfig","useState","LoadingOutlined","collection","addDoc","getFirestore","Typography","UserAddOutlined","Title","firebaseApp","auth","db","Profile","loading","setLoading","state","setState","inputLabels","label","name","required","type","action","e","target","value","firstName","age","email","password","createInputLabels","onFinish","values","then","credentials","console","log","doc","catch","err","success","error","onFinishFailed","errorInfo","map","offset","span"],"mappings":"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","sourcesContent":["import { Form, Input, message, Button } from \"antd\";\nimport { createUserWithEmailAndPassword, getAuth } from \"@firebase/auth\";\nimport { initializeApp } from \"@firebase/app\";\nimport { firebaseConfig} from \"../lib/base\";\nimport { useState } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { collection, addDoc,getFirestore} from \"firebase/firestore\";\nimport {Typography} from \"antd\";\nimport {UserAddOutlined} from '@ant-design/icons';\n\nconst { Title} = Typography;\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\nconst db = getFirestore();\n\nconst Profile = () => {\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState();\n\n  const inputLabels = [\n\n    {\n        label: \"Nom\",\n        name: \"name\",\n        required: true,\n        message: \"Veuillez saisir vote Nom\",\n        type: \"text\",\n        action: (e) => {\n            setState({ ...state, name: e.target.value});\n\n        },\n      },\n    {\n      label: \"Prénom\",\n      name: \"firstName\",\n      required: true,\n      message: \"Veuillez saisir vote prénom\",\n      type: \"text\",\n      action: (e) => {\n    setState({ ...state, firstName: e.target.value});\n        },\n    },\n    {\n      label: \"Âge\",\n      name: \"age\",\n      required: true,\n      message: \"Veuillez saisir vote âge\",\n      type: \"number\",\n      action: (e) => {\n        setState({ ...state, age: e.target.value});\n        },\n    },\n    {\n      label: \"Email\",\n      name: \"email\",\n      required: true,\n      message: \"Veuillez saisir vote email\",\n      type: \"email\",\n      action: (e) => {\n        setState({ ...state, email: e.target.value});\n        },\n    },\n    {\n      label: \"Mot De Passe\",\n      name: \"password\",\n      required: true,\n      message: \"Veuillez saisir vote mot de passe\",\n      type: \"password\",\n      action: (e) => {\n        setState({ ...state, password: e.target.value});\n        },\n    },\n  ];\n\n  const createInputLabels = (label) => {\n    return (\n      <Form.Item\n        key={label.name}\n        label={label.label}\n        name={label.name}\n        rules={[\n          {\n            required: label.required,\n            message: label.message,\n          },\n        ]}\n      >\n        <Input type={label.type} onChange={label.action} />\n      </Form.Item>\n    );\n  };\n  const onFinish = (values) => {\n    //Récupérer le pass et le mail dans values et la passer à la\n    // methode signInWithEmailAndPassword\n    setLoading(<LoadingOutlined />);\n    createUserWithEmailAndPassword(auth, values.email, values.password)\n      .then((credentials) => {\n        console.log(credentials);\n        addDoc(collection(db, \"users\"), state) \n            .then((doc) => console.log(doc))\n            .catch((err) => console.log(err.message))\n        message.success(\"Vous êtes bien inscrit\");\n        setLoading(false);\n        // props.setActiveComponent(<Dashboard />);\n      })\n      .catch((err) => {\n        setLoading(false);\n        message.error(\"Impossible de vous inscrire\");\n      });\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n  return (\n    <div>\n    <div>\n      <Title>Create an user account <UserAddOutlined /></Title>\n    </div>\n    <Form\n      name=\"basic\"\n      layout=\"vertical\"\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n      autoComplete=\"off\"\n    >\n      {inputLabels.map((label) => createInputLabels(label))}\n\n      <Form.Item\n        wrapperCol={{\n          offset: 8,\n          span: 16,\n        }}\n      >\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit {loading}\n        </Button>\n      </Form.Item>\n    </Form>\n    </div>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}