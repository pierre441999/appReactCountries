{"ast":null,"code":"import _slicedToArray from\"/Users/pierrebusson/Documents/react/appreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Form,Input,Button,message}from\"antd\";import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{initializeApp}from\"firebase/app\";import{firebaseConfig}from\"../lib/base\";import{LoadingOutlined}from\"@ant-design/icons\";import Dashboard from\"./Dashboard\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseApp=initializeApp(firebaseConfig);var auth=getAuth(firebaseApp);var Login=function Login(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var onFinish=function onFinish(values){//Récupérer le pass et le mail dans values et la passer à la\n// methode signInWithEmailAndPassword\nsetLoading(/*#__PURE__*/_jsx(LoadingOutlined,{}));signInWithEmailAndPassword(auth,values.email,values.password).then(function(credentials){console.log(credentials);setLoading(false);props.setActiveComponent(/*#__PURE__*/_jsx(Dashboard,{}));}).catch(function(err){setLoading(false);message.error(err.message);// console.log(err.message);\n});// Récupérer le pas\n};var onFinishFailed=function onFinishFailed(errorInfo){console.log(\"Failed:\",errorInfo);};return/*#__PURE__*/_jsxs(Form,{name:\"basic\",layout:\"vertical\",onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"email\",name:\"email\",rules:[{required:true,message:\"Please input your username!\"}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"password\",name:\"password\",rules:[{required:true,message:\"Please input your password!\"}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsxs(Button,{type:\"primary\",htmlType:\"submit\",children:[\"Submit \",loading]})})]});};export default Login;","map":{"version":3,"sources":["/Users/pierrebusson/Documents/react/appreact/src/components/Login.js"],"names":["Form","Input","Button","message","getAuth","signInWithEmailAndPassword","initializeApp","firebaseConfig","LoadingOutlined","Dashboard","useState","firebaseApp","auth","Login","props","loading","setLoading","onFinish","values","email","password","then","credentials","console","log","setActiveComponent","catch","err","error","onFinishFailed","errorInfo","required","offset","span"],"mappings":"mKAAA,OAASA,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,CAA8BC,OAA9B,KAA4C,MAA5C,CACA,OAASC,OAAT,CAAkBC,0BAAlB,KAAoD,eAApD,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,cAAT,KAA8B,aAA9B,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAGA,GAAMC,CAAAA,WAAW,CAAGL,aAAa,CAACC,cAAD,CAAjC,CACA,GAAMK,CAAAA,IAAI,CAAGR,OAAO,CAACO,WAAD,CAApB,CAEA,GAAME,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACvB,cAA8BJ,QAAQ,CAAC,KAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,MAAD,CAAY,CAC3B;AACA;AACAF,UAAU,cAAC,KAAC,eAAD,IAAD,CAAV,CACAX,0BAA0B,CAACO,IAAD,CAAOM,MAAM,CAACC,KAAd,CAAqBD,MAAM,CAACE,QAA5B,CAA1B,CACGC,IADH,CACQ,SAACC,WAAD,CAAiB,CACrBC,OAAO,CAACC,GAAR,CAAYF,WAAZ,EACAN,UAAU,CAAC,KAAD,CAAV,CACAF,KAAK,CAACW,kBAAN,cAAyB,KAAC,SAAD,IAAzB,EACD,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,CAAS,CACdX,UAAU,CAAC,KAAD,CAAV,CACAb,OAAO,CAACyB,KAAR,CAAcD,GAAG,CAACxB,OAAlB,EACD;AACA,CAVH,EAYA;AACD,CAjBD,CAmBA,GAAM0B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,SAAD,CAAe,CACpCP,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBM,SAAvB,EACD,CAFD,CAIA,mBACE,MAAC,IAAD,EACE,IAAI,CAAC,OADP,CAEE,MAAM,CAAC,UAFT,CAGE,QAAQ,CAAEb,QAHZ,CAIE,cAAc,CAAEY,cAJlB,CAKE,YAAY,CAAC,KALf,wBAOE,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAC,OADR,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAE,CACL,CACEE,QAAQ,CAAE,IADZ,CAEE5B,OAAO,CAAE,6BAFX,CADK,CAHT,uBAUE,KAAC,KAAD,IAVF,EAPF,cAoBE,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAC,UADR,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,CACL,CACE4B,QAAQ,CAAE,IADZ,CAEE5B,OAAO,CAAE,6BAFX,CADK,CAHT,uBAUE,KAAC,KAAD,CAAO,QAAP,IAVF,EApBF,cAiCE,KAAC,IAAD,CAAM,IAAN,EACE,UAAU,CAAE,CACV6B,MAAM,CAAE,CADE,CAEVC,IAAI,CAAE,EAFI,CADd,uBAME,MAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,qBACUlB,OADV,GANF,EAjCF,GADF,CA8CD,CAvED,CAyEA,cAAeF,CAAAA,KAAf","sourcesContent":["import { Form, Input, Button, message} from \"antd\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { firebaseConfig} from \"../lib/base\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport Dashboard from \"./Dashboard\";\nimport { useState } from \"react\";\n\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\n\nconst Login = (props) => {\n  const [loading, setLoading] = useState(false)\n  const onFinish = (values) => {\n    //Récupérer le pass et le mail dans values et la passer à la\n    // methode signInWithEmailAndPassword\n    setLoading(<LoadingOutlined/>)\n    signInWithEmailAndPassword(auth, values.email, values.password)\n      .then((credentials) => {\n        console.log(credentials);\n        setLoading(false)\n        props.setActiveComponent(<Dashboard />);\n      })\n      .catch((err) => {\n        setLoading(false)\n        message.error(err.message)\n       // console.log(err.message);\n      });\n\n    // Récupérer le pas\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  return (\n    <Form\n      name=\"basic\"\n      layout=\"vertical\"\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n      autoComplete=\"off\"\n    >\n      <Form.Item\n        label=\"email\"\n        name=\"email\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your username!\",\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        label=\"password\"\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input your password!\",\n          },\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        wrapperCol={{\n          offset: 8,\n          span: 16,\n        }}\n      >\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit {loading}\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}